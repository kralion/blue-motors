---
import Layout from "../layouts/Layout.astro";
import ProductCard from "../components/ProductCard.astro";
const response = await fetch(
  "https://bluemotorsec.com/wp-json/wp/v2/productos-tienda"
);
const productos = await response.json();
const createMarkup = (htmlString) => {
  return { __html: htmlString };
};
---

<Layout title="Bluemotors - Inicio">
  <div class="flex flex-col lg:flex-row justify-center gap-20">
    <div>
      <div class="my-[20px]">
        <p class="font-medium mb-[10px] text-white">TOP RATED PRODUCTS</p>
        <div class="h-[2px] w-[20%] rounded-xl bg-red-dark"></div>
      </div>
      <div>
        {
          productos.length > 0 ? (
            productos.map((item) => (
              <ProductCard
                details={item.acf.nombre}
                price={item.acf.precio}
                image={item.source_url}
                alt={item.alt_text}
                id={item.id}
                stars={3}
              />
            ))
          ) : (
            <p>No se encontraron imágenes.</p>
          )
        }
      </div>
    </div>

    <div>
      <div class="my-[20px]">
        <p class="font-medium mb-[10px] text-white">SALE PRODUCTS</p>
        <div class="h-[2px] w-[20%] rounded-xl bg-red-dark"></div>
      </div>
      {
        productos.length > 0 ? (
          productos.map((item) => (
            <ProductCard
              details={item.acf.nombre}
              price={item.acf.precio}
              image={item.imagen}
              alt="thumbnail"
              id={item.id}
            />
          ))
        ) : (
          <p>No se encontraron imágenes.</p>
        )
      }
    </div>
  </div>
</Layout>

---
import Layout from "../../layouts/Layout.astro";
import Motorcycle from "../../components/Motorcycle.astro";

const { id } = Astro.params;

export async function getStaticPaths() {
  const response = await fetch(
    "https://bluemotorsec.com/wp-json/wp/v2/productos-tienda"
  );
  const media = await response.json();

  const paths = media.map((item) => ({
    params: {
      id: item.id.toString(),
    },
  }));

  return {
    paths,
    fallback: false,
  };
}
const response = await fetch(
  `https://bluemotorsec.com/wp-json/wp/v2/productos-tienda/${id}`
);
const media = await response.json();
---

<Layout title="BlueMotors">
  <main class="mx-auto max-w-6xl lg:py-20 py-10 sm:px-6 lg:px-8">
    <Motorcycle
      name={media.type}
      description="Honda CBR600RR Motorcycle"
      imageUrl="https://motors.stylemixthemes.com/motorcycles/wp-content/uploads/sites/5/2016/08/motorcycle-4-1110x577.jpg"
      price={10000}
      category="Motocicleta"
      mileage="100,000 km"
      engine="4.0L"
      year="2022"
      color="Negro"
      vin="1G1A1B1C1D1E1F1G1H1I"
    />
  </main>
</Layout>; ---
